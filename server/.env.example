# Server Configuration
PORT=3000

# MongoDB Connection
MONGO_URI=mongodb://localhost:27017/your_database_name

# MongoDB Transaction Support (P0-1 Fix)
# MongoDB transactions require a replica set or sharded cluster.
# Standalone MongoDB instances do not support multi-document transactions.
#
# IMPORTANT: In production, you MUST set this explicitly!
# - Set 'true' if using:
#   * MongoDB Atlas (Cloud)
#   * Self-managed replica set
#   * Sharded cluster
# - Set 'false' if using:
#   * Standalone MongoDB (single instance)
#   * Local development database
#
# Detection order (if not explicitly set):
# 1. Explicit MONGODB_REPLICA_SET env var (highest priority)
# 2. Connection string with mongodb+srv:// (Atlas - auto-detected)
# 3. Connection string with replicaSet= parameter (auto-detected)
# 4. Production without explicit config: WARNING + default to false (safe)
# 5. Development: default to false
#
# Production deployment checklist:
# ✅ Verify MongoDB topology (replica set vs standalone)
# ✅ Set MONGODB_REPLICA_SET=true for replica set/Atlas
# ✅ Test approve/reject request flows after deployment
#
# Standalone mode limitations:
# ⚠️  Request approval/rejection not atomic (if attendance update fails
#    after request status change, manual reconciliation may be needed)
#    For production use, replica set is strongly recommended.
#
MONGODB_REPLICA_SET=false

# JWT Configuration
# TODO: Change this to a strong, random secret in production (min 32 chars)
JWT_SECRET=your_jwt_secret_here_min_32_characters_long
JWT_EXPIRES_IN=7d

# Cross-midnight OT
CHECKOUT_GRACE_HOURS=24      # Max session length (hours)
ADJUST_REQUEST_MAX_DAYS=7    # Max submission window (days from checkIn)
